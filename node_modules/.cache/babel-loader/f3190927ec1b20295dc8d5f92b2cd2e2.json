{"ast":null,"code":"import { mapState, mapActions } from 'vuex';\nexport default {\n  data() {\n    return {\n      // UWAGA: aby zaczytało do tabeli dane należy ustawić w headers wartość value= nazwie pola z API\n      headers: [{\n        text: 'Customer name',\n        value: 'customer.contractorName',\n        align: 'start'\n      }, {\n        text: 'Customer Fibu',\n        value: 'customerFibu'\n      }, {\n        text: 'Street',\n        value: 'customer.street'\n      }, {\n        text: 'City',\n        value: 'customer.city'\n      }, {\n        text: 'Zip code',\n        value: 'customer.zipCode'\n      }, {\n        text: 'Sales rep',\n        value: 'product.productName'\n      }, {\n        text: 'Commission %',\n        value: 'commissionProcent'\n      }, {\n        text: 'Commission value',\n        value: 'commissionValue'\n      }, {\n        text: 'Revenue',\n        value: 'revenue'\n      }, {\n        text: 'Gross Profit',\n        value: 'grossProfit'\n      }, {\n        text: 'Product',\n        value: 'product.productName'\n      }],\n      loading: true,\n      search: ''\n      //xx: true,\n      // snackbar: {\n      //   message: '',\n      //   type: error,\n      //   visible: false\n      // }\n    };\n  },\n\n  computed: {\n    ...mapState('custom', ['allCommissions'])\n  },\n  methods: {\n    ...mapActions('custom', ['getAllCommissionsAction']),\n    getChipColor(bizType) {\n      if (bizType == 'Pozysk') return 'green';else if (bizType == 'Rozwój') return 'orange';else return null;\n    },\n    getBelowZeroColor(val) {\n      return val < 0 ? 'red' : 'white';\n    }\n  },\n  created() {\n    this.loading = true;\n    try {\n      this.getAllCommissionsAction('SFR');\n      this.loading = false;\n    } catch (error) {\n      console.log(error);\n      this.loading = false;\n    }\n    //this.getAllCommissionsAction()  \n  }\n};","map":{"version":3,"mappings":"AAqEA;AAEA;EACAA;IACA;MACA;MACAC,UACA;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAF;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,EACA;MAEAE;MACAC;MACA;MACA;MACA;MACA;MACA;MACA;IAEA;EAEA;;EAEAC;IACA;EACA;EAEAC;IACA;IACAC;MACA,6CACA,8CACA;IACA;IAEAC;MACA;IACA;EAGA;EAEAC;IACA;IAEA;MACA;MACA;IACA;MACAC;MACA;IACA;IACA;EACA;AACA","names":["data","headers","text","value","align","loading","search","computed","methods","getChipColor","getBelowZeroColor","created","console"],"sourceRoot":"src/components/Tables","sources":["TableCustomers.vue"],"sourcesContent":["<template>\r\n    <v-card>\r\n    <v-card-title>\r\n      <span class=\"space\">\r\n        Customers\r\n      </span>\r\n      <v-spacer></v-spacer>\r\n      <v-text-field\r\n        v-model=\"search\"\r\n        append-icon=\"mdi-magnify\"\r\n        label=\"Search\"\r\n        single-line\r\n        hide-details\r\n      ></v-text-field>\r\n    </v-card-title>\r\n  \r\n  <v-data-table\r\n    :headers=\"headers\"\r\n    :items=\"allCommissions\"\r\n    :loading=\"loading\"\r\n    :search=\"search\"\r\n    sort-by=\"customerName\"\r\n    class=\"elevation-1\"\r\n    multi-sort\r\n    :items-per-page=\"10\">\r\n\r\n  <!-- <template #[`item.businessType`] = \"{ item }\"> -->\r\n  <template v-slot:item.businessType=\"{ item }\">\r\n    <v-chip\r\n      v-if=\"getChipColor(item.businessType)\"\r\n      :color=\"getChipColor(item.businessType)\">\r\n      {{ item.businessType }}\r\n    </v-chip>\r\n  </template>\r\n\r\n  <!-- <template v-slot:item.commissionValue=\"{ item }\">\r\n    <div :style=\"getBelowZeroColor(item)\">\r\n      {{ item.commissionValue }}\r\n    </div>\r\n  </template> -->\r\n  <template v-slot:item.commissionValue=\"{ item }\">\r\n    <span :style=\"item.commissionValue < 0 ? 'color: red' : 'color: white'\">\r\n      {{ item.commissionValue }}\r\n    </span>  \r\n  </template>\r\n\r\n\r\n  </v-data-table>\r\n  </v-card>\r\n\r\n\r\n  <!-- <div\r\n        v-for=\"item in allCommissions\"\r\n        :key=\"item.customerFibu\"\r\n        > \r\n        {{ item.customerFibu }}\r\n        {{ item.commissionProcent }}\r\n        {{ item.commissionValue }}\r\n\r\n      </div> -->\r\n\r\n</template>\r\n\r\n\r\n\r\n\r\n\r\n\r\n<script>\r\nimport { mapState, mapActions } from 'vuex';\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        // UWAGA: aby zaczytało do tabeli dane należy ustawić w headers wartość value= nazwie pola z API\r\n        headers: [\r\n          { text: 'Customer name', value: 'customer.contractorName', align: 'start'},\r\n          { text: 'Customer Fibu', value: 'customerFibu'},\r\n          { text: 'Street', value: 'customer.street'},\r\n          { text: 'City', value: 'customer.city'},\r\n          { text: 'Zip code', value: 'customer.zipCode'},\r\n          { text: 'Sales rep', value: 'product.productName'},\r\n          { text: 'Commission %', value: 'commissionProcent'},\r\n          { text: 'Commission value', value: 'commissionValue'},\r\n          { text: 'Revenue', value: 'revenue'},\r\n          { text: 'Gross Profit', value: 'grossProfit'},\r\n          { text: 'Product', value: 'product.productName'},\r\n        ],\r\n\r\n        loading: true,\r\n        search: ''\r\n        //xx: true,\r\n        // snackbar: {\r\n        //   message: '',\r\n        //   type: error,\r\n        //   visible: false\r\n        // }\r\n\r\n      }\r\n\r\n    },\r\n\r\n    computed: {\r\n    ...mapState('custom', ['allCommissions'])\r\n    },\r\n  \r\n    methods: {\r\n      ...mapActions('custom', ['getAllCommissionsAction']),\r\n      getChipColor(bizType){\r\n        if (bizType == 'Pozysk') return 'green' \r\n        else if (bizType == 'Rozwój') return 'orange'\r\n        else return null\r\n      },\r\n\r\n      getBelowZeroColor(val){\r\n        return val < 0 ? 'red' : 'white'\r\n      },\r\n\r\n\r\n    },\r\n\r\n    created() {\r\n      this.loading = true\r\n\r\n      try {\r\n        this.getAllCommissionsAction('SFR')  \r\n        this.loading = false     \r\n      } catch (error) {\r\n        console.log(error)\r\n        this.loading = false       \r\n      }\r\n      //this.getAllCommissionsAction()  \r\n    }\r\n  }\r\n\r\n</script>\r\n\r\n<style scoped>\r\n  /* .searchWidth {\r\n    width: min-content;\r\n  } */\r\n\r\n  .space {\r\n    letter-spacing: 3px;\r\n    color: gray;\r\n  }\r\n\r\n  .backCol {\r\n    background-color:#222736\r\n  }\r\n</style>"]},"metadata":{},"sourceType":"module"}